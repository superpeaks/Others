---

## **SQL Interview Questions List (100+)**

### **1. SQL Basics**

1. What is SQL, and why is it used?
2. What are the different types of SQL commands?
3. Explain DDL, DML, DCL, and TCL with examples.
4. What is the difference between SQL and MySQL?
5. What is a database?
6. What is a table in SQL?
7. Explain primary key.
8. Explain foreign key.
9. What is a unique key?
10. What is the difference between primary key and unique key?
11. What is a composite key?
12. What is a candidate key?
13. What is a super key?
14. What is a surrogate key?
15. What is the difference between NULL and 0?
16. What is a default constraint?
17. What is a check constraint?
18. What is the difference between DELETE, TRUNCATE, and DROP?
19. What is the difference between CHAR and VARCHAR?
20. What is the difference between TEXT and VARCHAR in SQL?

### **2. SQL Queries & Clauses**

21. Explain SELECT statement syntax.
22. What is the difference between WHERE and HAVING?
23. Explain GROUP BY with example.
24. Explain ORDER BY and its default order.
25. What is the LIMIT clause?
26. What is OFFSET in SQL?
27. Explain DISTINCT and its use.
28. How to filter data using multiple conditions?
29. What is BETWEEN in SQL?
30. What is LIKE in SQL, and what are wildcards?
31. What is IN operator?
32. What is CASE statement in SQL?
33. What is COALESCE() function?
34. What is IFNULL() function?
35. What is NULLIF() function?
36. What is the difference between = and IS NULL?
37. What is the difference between EXISTS and IN?
38. How does ANY and ALL work in SQL?
39. How to write a subquery?
40. What are correlated subqueries?

### **3. SQL Joins**

41. What are joins in SQL?
42. Explain INNER JOIN with example.
43. Explain LEFT JOIN with example.
44. Explain RIGHT JOIN with example.
45. Explain FULL OUTER JOIN with example.
46. What is CROSS JOIN?
47. What is SELF JOIN?
48. What is the difference between INNER JOIN and WHERE clause?
49. Can we join more than two tables?
50. How to join a table with itself?

### **4. SQL Functions**

51. What are aggregate functions in SQL?
52. List examples of aggregate functions.
53. What are scalar functions in SQL?
54. Difference between COUNT(\*) and COUNT(column\_name).
55. What is ROUND() function?
56. What is NOW() function?
57. What is DATE\_FORMAT() function?
58. How to extract year, month, and day from a date?
59. How to calculate date difference?
60. How to concatenate strings in SQL?

### **5. SQL Indexing & Performance**

61. What is an index in SQL?
62. What are the types of indexes?
63. What is the difference between clustered and non-clustered index?
64. What is a composite index?
65. How does indexing improve performance?
66. What are the disadvantages of indexes?
67. How to drop an index?
68. How to view indexes in a table?
69. What is query optimization in SQL?
70. How to find slow queries in SQL?

### **6. SQL Transactions**

71. What is a transaction?
72. What are ACID properties?
73. What is COMMIT in SQL?
74. What is ROLLBACK in SQL?
75. What is SAVEPOINT in SQL?
76. What is the difference between COMMIT and ROLLBACK?
77. What is autocommit mode?
78. What is the difference between atomicity and durability?
79. How to manage transactions in SQL?
80. What happens if a transaction fails?

### **7. SQL Constraints & Keys**

81. What are constraints in SQL?
82. Difference between NOT NULL and UNIQUE constraints.
83. How to add a constraint to an existing table?
84. How to drop a constraint?
85. What is referential integrity?
86. How to implement foreign key constraints?
87. What is cascading in foreign keys?
88. Difference between CASCADE, SET NULL, and NO ACTION.
89. What is ON DELETE CASCADE?
90. What is ON UPDATE CASCADE?

### **8. SQL Views**

91. What is a view in SQL?
92. How to create a view?
93. Difference between view and table.
94. What is an updatable view?
95. What are the advantages of views?
96. How to drop a view?
97. Can a view contain joins?
98. Can we index a view?
99. What are materialized views?
100. Difference between normal view and materialized view.

### **9. SQL Advanced Concepts**

101. What is normalization?
102. Explain 1NF, 2NF, 3NF, and BCNF.
103. What is denormalization?
104. What is an entity-relationship (ER) model?
105. What is a stored procedure?
106. Difference between stored procedure and function.
107. How to pass parameters in stored procedures?
108. What is a trigger in SQL?
109. Difference between BEFORE and AFTER triggers.
110. What are common use cases for triggers?
111. What is a CTE (Common Table Expression)?
112. Difference between CTE and subquery.
113. What is recursion in CTE?
114. What is a window function in SQL?
115. Difference between RANK(), DENSE\_RANK(), and ROW\_NUMBER().
116. What is PARTITION BY in SQL?
117. What is LEAD() and LAG() function?
118. What is pivoting in SQL?
119. What is unpivoting in SQL?
120. What is the difference between OLTP and OLAP systems?

---

---

## **SQL Interview Guide – 120 Questions with Detailed Answers**

---

### **1. SQL Basics**

**1. What is SQL, and why is it used?**

* **SQL** (Structured Query Language) is the standard language used to interact with relational databases.
* It allows you to **create**, **read**, **update**, and **delete** data (CRUD operations).
* Uses:

  * Querying data (`SELECT`)
  * Modifying data (`INSERT`, `UPDATE`, `DELETE`)
  * Managing database structure (`CREATE`, `ALTER`, `DROP`)
  * Managing access control (`GRANT`, `REVOKE`)

---

**2. What are the different types of SQL commands?**
SQL commands are grouped into categories:

* **DDL (Data Definition Language)** – `CREATE`, `ALTER`, `DROP`, `TRUNCATE` (defines structure)
* **DML (Data Manipulation Language)** – `INSERT`, `UPDATE`, `DELETE` (manipulates data)
* **DCL (Data Control Language)** – `GRANT`, `REVOKE` (controls permissions)
* **TCL (Transaction Control Language)** – `COMMIT`, `ROLLBACK`, `SAVEPOINT` (manages transactions)

---

**3. Explain DDL, DML, DCL, and TCL with examples.**

* **DDL** – Structure-related:

  ```sql
  CREATE TABLE students (id INT, name VARCHAR(50));
  ALTER TABLE students ADD age INT;
  DROP TABLE students;
  ```
* **DML** – Data-related:

  ```sql
  INSERT INTO students VALUES (1, 'Rajesh', 25);
  UPDATE students SET age = 26 WHERE id = 1;
  DELETE FROM students WHERE id = 1;
  ```
* **DCL** – Access-related:

  ```sql
  GRANT SELECT ON students TO user1;
  REVOKE SELECT ON students FROM user1;
  ```
* **TCL** – Transaction-related:

  ```sql
  BEGIN;
  UPDATE students SET age = 27 WHERE id = 1;
  COMMIT;
  ```

---

**4. What is the difference between SQL and MySQL?**

| SQL                          | MySQL                               |
| ---------------------------- | ----------------------------------- |
| Language to query databases  | RDBMS software using SQL            |
| Standard defined by ANSI/ISO | Developed by Oracle (open source)   |
| Works with any relational DB | MySQL is a specific database server |
| Cannot store data            | Stores and manages data physically  |

---

**5. What is a database?**

* A **database** is an organized collection of data stored electronically.
* In relational databases, data is stored in **tables** (rows and columns).
* Examples: MySQL, PostgreSQL, Oracle, SQL Server.

---

**6. What is a table in SQL?**

* A **table** is a collection of related data organized in **rows (records)** and **columns (fields)**.
* Example:

| id | name   | age |
| -- | ------ | --- |
| 1  | Rajesh | 25  |

---

**7. Explain primary key.**

* A **primary key** uniquely identifies each row in a table.
* Rules:

  * Cannot be NULL
  * Must be unique
* Example:

  ```sql
  CREATE TABLE emp (emp_id INT PRIMARY KEY, emp_name VARCHAR(50));
  ```

---

**8. Explain foreign key.**

* A **foreign key** is a column that refers to a **primary key** in another table.
* Ensures referential integrity.
* Example:

  ```sql
  CREATE TABLE orders (
      order_id INT PRIMARY KEY,
      emp_id INT,
      FOREIGN KEY (emp_id) REFERENCES emp(emp_id)
  );
  ```

---

**9. What is a unique key?**

* Ensures all values in a column are **different**.
* Can have **one NULL value** (in most DBs).
* Example:

  ```sql
  CREATE TABLE users (email VARCHAR(50) UNIQUE);
  ```

---

**10. Difference between primary key and unique key:**

| Primary Key                      | Unique Key       |
| -------------------------------- | ---------------- |
| Only one per table               | Multiple allowed |
| Cannot be NULL                   | Can have 1 NULL  |
| Combination of NOT NULL + UNIQUE | Just UNIQUE      |

---


---

## **SQL Interview Guide – Continued**

---

### **1. SQL Basics (continued)**

**11. What is a composite key?**

* A **composite key** is made up of **two or more columns** that together uniquely identify a row.
* Example:

  ```sql
  CREATE TABLE student_courses (
      student_id INT,
      course_id INT,
      PRIMARY KEY (student_id, course_id)
  );
  ```
* Here, **student\_id** alone or **course\_id** alone may repeat, but the combination must be unique.

---

**12. What is a candidate key?**

* A **candidate key** is a column (or set of columns) that can uniquely identify rows and is eligible to become a primary key.
* Example: In a `users` table, both `email` and `user_id` could be candidate keys.

---

**13. What is a super key?**

* A **super key** is any set of columns that can uniquely identify a row, including candidate keys plus extra attributes.
* Example: (`user_id`, `email`) together is a super key, but `user_id` alone may be a candidate key.

---

**14. What is a surrogate key?**

* A **surrogate key** is an artificial key created by the database (e.g., auto-increment ID) rather than coming from business logic.
* Example:

  ```sql
  CREATE TABLE customers (
      customer_id INT AUTO_INCREMENT PRIMARY KEY,
      name VARCHAR(50)
  );
  ```

---

**15. What is the difference between NULL and 0?**

| NULL                               | 0                        |
| ---------------------------------- | ------------------------ |
| Unknown / missing value            | Numeric zero             |
| Not equal to anything, even itself | Equal to 0               |
| Cannot be compared with `=`        | Can be compared directly |

---

**16. What is a default constraint?**

* Assigns a **default value** when no value is provided during insert.
* Example:

  ```sql
  CREATE TABLE products (
      id INT PRIMARY KEY,
      price DECIMAL(10,2) DEFAULT 100.00
  );
  ```

---

**17. What is a check constraint?**

* Ensures a column’s values meet a condition.
* Example:

  ```sql
  CREATE TABLE employees (
      emp_id INT PRIMARY KEY,
      age INT CHECK (age >= 18)
  );
  ```

---

**18. Difference between DELETE, TRUNCATE, and DROP**

| DELETE                           | TRUNCATE                   | DROP                     |
| -------------------------------- | -------------------------- | ------------------------ |
| Removes selected rows            | Removes all rows           | Removes entire table     |
| Can use WHERE                    | Cannot use WHERE           | Removes structure + data |
| Slower                           | Faster                     | Fastest                  |
| Can rollback (if in transaction) | Can rollback (in some DBs) | Cannot rollback          |

---

**19. Difference between CHAR and VARCHAR**

| CHAR             | VARCHAR                   |
| ---------------- | ------------------------- |
| Fixed length     | Variable length           |
| Pads with spaces | Stores only actual length |
| Slightly faster  | Saves storage space       |

---

**20. Difference between TEXT and VARCHAR in SQL**

| TEXT                                   | VARCHAR                 |
| -------------------------------------- | ----------------------- |
| For large text storage (up to GB)      | Limited to defined size |
| Cannot have default values in some DBs | Can have default values |
| Slower in indexing                     | Faster indexing         |

---

### **2. SQL Queries & Clauses**

**21. Explain SELECT statement syntax**

```sql
SELECT column1, column2
FROM table_name
WHERE condition
GROUP BY column
HAVING group_condition
ORDER BY column ASC|DESC
LIMIT n OFFSET m;
```

---

**22. Difference between WHERE and HAVING**

| WHERE                            | HAVING                           |
| -------------------------------- | -------------------------------- |
| Filters rows before grouping     | Filters groups after aggregation |
| Cannot use aggregate functions   | Can use aggregate functions      |
| Used with SELECT, UPDATE, DELETE | Used with GROUP BY               |

Example:

```sql
-- WHERE filters before grouping
SELECT dept, COUNT(*) FROM emp
WHERE salary > 50000
GROUP BY dept;

-- HAVING filters after grouping
SELECT dept, COUNT(*) FROM emp
GROUP BY dept
HAVING COUNT(*) > 5;
```

---

**23. Explain GROUP BY with example**

* Groups rows with the same values in specified columns and allows aggregation.

```sql
SELECT dept, COUNT(*) AS total_employees
FROM employees
GROUP BY dept;
```

---

**24. Explain ORDER BY and its default order**

* Sorts result set.
* Default: **ASC (ascending)**.
* Example:

```sql
SELECT name, salary
FROM employees
ORDER BY salary DESC;
```

---

**25. What is the LIMIT clause?**

* Restricts the number of rows returned.

```sql
SELECT * FROM employees LIMIT 10;
```

---

**26. What is OFFSET in SQL?**

* Skips a given number of rows before starting to return results.

```sql
SELECT * FROM employees LIMIT 10 OFFSET 5;
```

---

**27. Explain DISTINCT and its use**

* Returns unique values in a column.

```sql
SELECT DISTINCT department FROM employees;
```

---

**28. How to filter data using multiple conditions?**

* Use `AND` / `OR`.

```sql
SELECT * FROM employees
WHERE department = 'IT' AND salary > 50000;
```

---

**29. What is BETWEEN in SQL?**

* Selects values within a range (inclusive).

```sql
SELECT * FROM employees
WHERE salary BETWEEN 30000 AND 50000;
```

---

**30. What is LIKE in SQL, and what are wildcards?**

* Pattern matching with `%` (any length) and `_` (single char).

```sql
SELECT * FROM employees
WHERE name LIKE 'R%'; -- starts with R
```

---

**31. What is IN operator?**

* Matches any value from a list.

```sql
SELECT * FROM employees
WHERE department IN ('IT', 'HR', 'Finance');
```

---

**32. What is CASE statement in SQL?**

* Conditional logic in queries.

```sql
SELECT name,
CASE
    WHEN salary > 50000 THEN 'High'
    ELSE 'Low'
END AS salary_level
FROM employees;
```

---

**33. What is COALESCE() function?**

* Returns the first non-null value from a list.

```sql
SELECT COALESCE(phone, 'No phone') FROM employees;
```

---

**34. What is IFNULL() function?**

* Replaces NULL with a value (MySQL).

```sql
SELECT IFNULL(phone, 'N/A') FROM employees;
```

---

**35. What is NULLIF() function?**

* Returns NULL if two expressions are equal, else returns the first value.

```sql
SELECT NULLIF(10, 10); -- NULL
```

---

**36. Difference between = and IS NULL**

| `=`                     | `IS NULL`                |
| ----------------------- | ------------------------ |
| Checks equality         | Checks NULL values       |
| Cannot be used for NULL | Used only for NULL check |

---

**37. Difference between EXISTS and IN**

* **EXISTS**: Checks if subquery returns any row.
* **IN**: Matches a value in a list.
* EXISTS is often faster for correlated subqueries.

---

**38. How does ANY and ALL work in SQL?**

* **ANY**: True if condition matches at least one value.
* **ALL**: True if condition matches all values.

```sql
SELECT * FROM employees
WHERE salary > ALL (SELECT salary FROM employees WHERE dept='HR');
```

---

**39. How to write a subquery?**

```sql
SELECT name FROM employees
WHERE dept_id = (SELECT id FROM departments WHERE name='IT');
```

---

**40. What are correlated subqueries?**

* Subqueries that refer to columns from the outer query.
* Executed once per row of the outer query.

```sql
SELECT name FROM employees e
WHERE salary > (SELECT AVG(salary) FROM employees WHERE dept_id = e.dept_id);
```

---

---

### **3. SQL Joins**

**41. What are joins in SQL?**

* **Joins** combine rows from two or more tables based on a related column.
* Types:

  * `INNER JOIN`
  * `LEFT JOIN`
  * `RIGHT JOIN`
  * `FULL OUTER JOIN`
  * `CROSS JOIN`
  * `SELF JOIN`

---

**42. Explain INNER JOIN with example**

* Returns rows when there is a match in both tables.

```sql
SELECT e.name, d.dept_name
FROM employees e
INNER JOIN departments d
ON e.dept_id = d.dept_id;
```

---

**43. Explain LEFT JOIN with example**

* Returns all rows from the **left** table and matching rows from the right table.
* Unmatched right table columns return NULL.

```sql
SELECT e.name, d.dept_name
FROM employees e
LEFT JOIN departments d
ON e.dept_id = d.dept_id;
```

---

**44. Explain RIGHT JOIN with example**

* Returns all rows from the **right** table and matching rows from the left table.

```sql
SELECT e.name, d.dept_name
FROM employees e
RIGHT JOIN departments d
ON e.dept_id = d.dept_id;
```

---

**45. Explain FULL OUTER JOIN with example**

* Returns all rows when there is a match in one of the tables.

```sql
SELECT e.name, d.dept_name
FROM employees e
FULL OUTER JOIN departments d
ON e.dept_id = d.dept_id;
```

*(Not supported in MySQL directly; use `UNION` of LEFT and RIGHT joins)*

---

**46. What is CROSS JOIN?**

* Returns Cartesian product (every row of one table with every row of the other).

```sql
SELECT * FROM products CROSS JOIN categories;
```

---

**47. What is SELF JOIN?**

* A join where a table is joined to itself.

```sql
SELECT e1.name AS employee, e2.name AS manager
FROM employees e1
JOIN employees e2
ON e1.manager_id = e2.emp_id;
```

---

**48. Difference between INNER JOIN and WHERE clause**

* **INNER JOIN** explicitly defines join conditions.
* **WHERE** can also filter after a cross join, but `JOIN` is more efficient and readable.

---

**49. Can we join more than two tables?**

* Yes, multiple joins are possible:

```sql
SELECT o.order_id, c.name, p.product_name
FROM orders o
JOIN customers c ON o.customer_id = c.id
JOIN products p ON o.product_id = p.id;
```

---

**50. How to join a table with itself?**

* Use **SELF JOIN** with aliases (as in Q47).

---

### **4. SQL Functions**

**51. What are aggregate functions in SQL?**

* Functions that operate on multiple rows and return a single value. Examples: `SUM()`, `AVG()`, `MAX()`, `MIN()`, `COUNT()`.

---

**52. List examples of aggregate functions**

* `SUM()` → Total of a numeric column
* `AVG()` → Average value
* `MAX()` → Highest value
* `MIN()` → Lowest value
* `COUNT()` → Number of rows

---

**53. What are scalar functions in SQL?**

* Operate on individual values and return one value per row.
* Examples: `UPPER()`, `LOWER()`, `LENGTH()`, `ROUND()`.

---

**54. Difference between COUNT(\*) and COUNT(column\_name)**

| COUNT(\*)                       | COUNT(column)             |
| ------------------------------- | ------------------------- |
| Counts all rows, including NULL | Counts only non-NULL rows |

---

**55. What is ROUND() function?**

* Rounds numeric value to given decimal places.

```sql
SELECT ROUND(123.4567, 2); -- 123.46
```

---

**56. What is NOW() function?**

* Returns current date & time.

```sql
SELECT NOW();
```

---

**57. What is DATE\_FORMAT() function?**

* Formats date in specific pattern.

```sql
SELECT DATE_FORMAT(NOW(), '%Y-%m-%d');
```

---

**58. How to extract year, month, and day from a date?**

```sql
SELECT YEAR(NOW()), MONTH(NOW()), DAY(NOW());
```

---

**59. How to calculate date difference?**

```sql
SELECT DATEDIFF('2025-08-04', '2025-01-01'); -- 215
```

---

**60. How to concatenate strings in SQL?**

* MySQL:

```sql
SELECT CONCAT(first_name, ' ', last_name) AS full_name FROM employees;
```

---

### **5. SQL Indexing & Performance**

**61. What is an index in SQL?**

* A database structure that improves query performance by allowing faster data retrieval.
* Works like an index in a book.

---

**62. What are the types of indexes?**

* Primary Index (from primary key)
* Unique Index
* Composite Index
* Full-text Index
* Spatial Index

---

**63. Difference between clustered and non-clustered index**

| Clustered Index                   | Non-Clustered Index          |
| --------------------------------- | ---------------------------- |
| Determines physical order of data | Separate structure from data |
| Only one per table                | Many allowed                 |
| Faster for range queries          | Faster for specific lookups  |

---

**64. What is a composite index?**

* Index on multiple columns.

```sql
CREATE INDEX idx_name_dept ON employees(name, dept_id);
```

---

**65. How does indexing improve performance?**

* Reduces the number of disk reads by narrowing search space using sorted data.

---

**66. What are the disadvantages of indexes?**

* Extra storage space
* Slower INSERT/UPDATE/DELETE because index must be updated

---

**67. How to drop an index?**

```sql
DROP INDEX idx_name ON employees;
```

---

**68. How to view indexes in a table?**

```sql
SHOW INDEXES FROM employees;
```

---

**69. What is query optimization in SQL?**

* Process of improving query execution speed by:

  * Using indexes
  * Avoiding unnecessary columns in SELECT
  * Reducing joins
  * Using `EXPLAIN` to analyze queries

---

**70. How to find slow queries in SQL?**

* Enable **slow query log** in MySQL:

```sql
SET global slow_query_log = 1;
```

* Use `EXPLAIN` before a query to check execution plan.

---

---

### **6. SQL Transactions**

**71. What is a transaction?**

* A **transaction** is a unit of work that is performed against a database.
* It ensures **data integrity** by treating multiple operations as a single action.

Example:

```sql
START TRANSACTION;
UPDATE accounts SET balance = balance - 100 WHERE account_id = 1;
UPDATE accounts SET balance = balance + 100 WHERE account_id = 2;
COMMIT;
```

---

**72. What are ACID properties?**

* **A**tomicity → All operations succeed or none
* **C**onsistency → Database moves from one valid state to another
* **I**solation → Transactions don’t interfere with each other
* **D**urability → Once committed, changes persist even after system failure

---

**73. What is COMMIT in SQL?**

* Saves the changes made by the transaction to the database permanently.

```sql
COMMIT;
```

---

**74. What is ROLLBACK in SQL?**

* Undoes changes made in the current transaction before COMMIT.

```sql
ROLLBACK;
```

---

**75. What is SAVEPOINT in SQL?**

* Sets a point within a transaction to which you can roll back.

```sql
SAVEPOINT point1;
ROLLBACK TO point1;
```

---

**76. Difference between COMMIT and ROLLBACK**

| COMMIT                    | ROLLBACK                                   |
| ------------------------- | ------------------------------------------ |
| Saves changes permanently | Undoes changes since last commit/savepoint |
| Cannot undo               | Can undo before commit                     |

---

**77. What is autocommit mode?**

* In MySQL, every statement is committed automatically unless autocommit is turned off:

```sql
SET autocommit = 0;
```

---

**78. Difference between atomicity and durability**

| Atomicity                | Durability                  |
| ------------------------ | --------------------------- |
| All-or-nothing execution | Changes remain after commit |

---

**79. How to manage transactions in SQL?**

* Use `START TRANSACTION`, `COMMIT`, `ROLLBACK`, and `SAVEPOINT`.

---

**80. What happens if a transaction fails?**

* It will ROLLBACK to the last consistent state, ensuring data integrity.

---

### **7. SQL Constraints & Keys**

**81. What are constraints in SQL?**

* Rules applied to columns to ensure data integrity. Examples:

  * `PRIMARY KEY`, `FOREIGN KEY`, `UNIQUE`, `NOT NULL`, `CHECK`, `DEFAULT`

---

**82. Difference between NOT NULL and UNIQUE constraints**

| NOT NULL                                        | UNIQUE                |
| ----------------------------------------------- | --------------------- |
| Column cannot store NULL                        | Values must be unique |
| Allows duplicates (if not combined with unique) | Can store one NULL    |

---

**83. How to add a constraint to an existing table?**

```sql
ALTER TABLE employees ADD CONSTRAINT chk_age CHECK (age >= 18);
```

---

**84. How to drop a constraint?**

```sql
ALTER TABLE employees DROP CONSTRAINT chk_age;
```

---

**85. What is referential integrity?**

* Ensures foreign key values match a primary key in another table.

---

**86. How to implement foreign key constraints?**

```sql
CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    customer_id INT,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);
```

---

**87. What is cascading in foreign keys?**

* Automatic action taken when referenced data changes.

---

**88. Difference between CASCADE, SET NULL, and NO ACTION**

| CASCADE                                  | SET NULL                 | NO ACTION                           |
| ---------------------------------------- | ------------------------ | ----------------------------------- |
| Deletes/updates child rows automatically | Sets foreign key to NULL | Prevents change if child rows exist |

---

**89. What is ON DELETE CASCADE?**

* If parent row is deleted, child rows are automatically deleted.

---

**90. What is ON UPDATE CASCADE?**

* If parent key value changes, child key updates automatically.

---

### **8. SQL Views**

**91. What is a view in SQL?**

* A **virtual table** based on the result of a query.
* Doesn’t store data physically; stores query definition.

---

**92. How to create a view?**

```sql
CREATE VIEW emp_view AS
SELECT name, salary FROM employees WHERE dept = 'IT';
```

---

**93. Difference between view and table**

| View                                        | Table                     |
| ------------------------------------------- | ------------------------- |
| Virtual (no physical data)                  | Physical storage          |
| Changes in base table reflect automatically | Data stored independently |

---

**94. What is an updatable view?**

* A view in which you can insert, update, or delete data (if based on one table without aggregation).

---

**95. Advantages of views**

* Security (limit column access)
* Simplifies complex queries
* Reusable

---

**96. How to drop a view?**

```sql
DROP VIEW emp_view;
```

---

**97. Can a view contain joins?**

* Yes, example:

```sql
CREATE VIEW order_details AS
SELECT o.order_id, c.name, p.product_name
FROM orders o
JOIN customers c ON o.customer_id = c.id
JOIN products p ON o.product_id = p.id;
```

---

**98. Can we index a view?**

* Not directly in MySQL (but possible with **materialized views** in some DBs).

---

**99. What are materialized views?**

* A view that stores data physically and can be refreshed periodically.

---

**100. Difference between normal view and materialized view**

| Normal View                 | Materialized View              |
| --------------------------- | ------------------------------ |
| No data stored              | Stores data physically         |
| Always reflects latest data | Needs refresh to update        |
| Faster creation             | Faster reads for large queries |

---

---

## **SQL Interview Guide – Final Section**

---

### **9. SQL Advanced Concepts**

**101. What is normalization?**

* The process of organizing data to minimize redundancy and improve data integrity.
* Achieved by splitting large tables into smaller related tables.

---

**102. Explain 1NF, 2NF, 3NF, and BCNF**

* **1NF (First Normal Form)**:

  * No repeating groups or arrays
  * Each column holds atomic (indivisible) values

* **2NF (Second Normal Form)**:

  * Must be in 1NF
  * No partial dependency (non-key attributes depend on the full primary key)

* **3NF (Third Normal Form)**:

  * Must be in 2NF
  * No transitive dependency (non-key depends only on primary key)

* **BCNF (Boyce-Codd Normal Form)**:

  * Stronger version of 3NF
  * Every determinant must be a candidate key

---

**103. What is denormalization?**

* Opposite of normalization — adding redundancy for faster read performance.
* Used in data warehouses.

---

**104. What is an entity-relationship (ER) model?**

* A diagram that shows relationships between entities (tables) in a database.
* Components: Entities, Attributes, Relationships.

---

**105. What is a stored procedure?**

* A precompiled set of SQL statements stored in the database.
* Improves performance and security.

```sql
CREATE PROCEDURE GetEmployees()
BEGIN
    SELECT * FROM employees;
END;
```

---

**106. Difference between stored procedure and function**

| Stored Procedure           | Function                       |
| -------------------------- | ------------------------------ |
| Can return multiple values | Returns single value           |
| Can modify data            | Typically used for computation |
| Called with CALL           | Called inside queries          |

---

**107. How to pass parameters in stored procedures?**

```sql
CREATE PROCEDURE GetEmpByDept(IN deptName VARCHAR(50))
BEGIN
    SELECT * FROM employees WHERE dept = deptName;
END;
```

---

**108. What is a trigger in SQL?**

* A stored program that runs automatically in response to events like `INSERT`, `UPDATE`, or `DELETE`.

---

**109. Difference between BEFORE and AFTER triggers**

| BEFORE Trigger                   | AFTER Trigger               |
| -------------------------------- | --------------------------- |
| Executes before modification     | Executes after modification |
| Can modify inserted/updated data | Cannot modify the change    |

---

**110. Common use cases for triggers**

* Auditing changes
* Enforcing business rules
* Automatic logging
* Cascading updates/deletes

---

**111. What is a CTE (Common Table Expression)?**

* A temporary result set that can be referenced in a query.

```sql
WITH dept_avg AS (
    SELECT dept, AVG(salary) AS avg_salary
    FROM employees
    GROUP BY dept
)
SELECT * FROM dept_avg WHERE avg_salary > 50000;
```

---

**112. Difference between CTE and subquery**

| CTE                          | Subquery               |
| ---------------------------- | ---------------------- |
| More readable                | Can be complex to read |
| Can be reused multiple times | Used only once         |

---

**113. What is recursion in CTE?**

* CTE that calls itself for hierarchical data.
  Example: Employee hierarchy tree.

---

**114. What is a window function in SQL?**

* Performs calculations across a set of rows related to the current row without collapsing them.
  Example: `ROW_NUMBER()`, `RANK()`.

---

**115. Difference between RANK(), DENSE\_RANK(), and ROW\_NUMBER()**

| Function      | Behavior                          |
| ------------- | --------------------------------- |
| RANK()        | Skips ranks for ties (1, 2, 2, 4) |
| DENSE\_RANK() | No gaps in rank (1, 2, 2, 3)      |
| ROW\_NUMBER() | Unique sequence without ties      |

---

**116. What is PARTITION BY in SQL?**

* Divides result set into groups for window functions.

```sql
SELECT name, dept, salary,
RANK() OVER (PARTITION BY dept ORDER BY salary DESC) AS rank
FROM employees;
```

---

**117. What is LEAD() and LAG() function?**

* **LEAD()** → Access next row’s value
* **LAG()** → Access previous row’s value

```sql
SELECT name, salary,
LAG(salary) OVER (ORDER BY salary) AS prev_salary
FROM employees;
```

---

**118. What is pivoting in SQL?**

* Converting row data into columns.
  Example: Sales by month pivot table.

---

**119. What is unpivoting in SQL?**

* Converting columns into rows.

---

**120. Difference between OLTP and OLAP systems**

| OLTP                            | OLAP                           |
| ------------------------------- | ------------------------------ |
| Online Transaction Processing   | Online Analytical Processing   |
| Handles day-to-day transactions | Used for reporting & analytics |
| Small, frequent queries         | Large, complex queries         |
| Examples: Banking, E-commerce   | Data warehouses, BI tools      |

---
